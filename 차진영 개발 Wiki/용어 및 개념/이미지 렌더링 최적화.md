# 이미지 렌더링 최적화

이미지는 용량이 크기 때문에 렌더링 속도가 느린 편이다.

컴포넌트 안의 많은 양의 이미지가 렌더링 될 경우 렌더링 지연으로 인해 UX 부분에서 문제가 발생할 수 있다.

⇒ **이미지 렌더링 최적화 필요**

### 이미지 파일 format

- **WebP**와 **AVIF**는 웹 브라우저에 최적화된 이미지 형식으로 용량이 작고 압축률이 좋아 용이하다.
  ⇒ **png**, **jpg** 이미지 형식을 **WebP** 혹은 **AVIF**로 변환해도 렌더링 개선이 가능하다.

### CSS Image Sprite

- 주로 게임 제작 등에 사용되며, 여러 개의 이미지를 하나의 이미지로 합쳐 사용한다.
  [CSS sprite](https://www.toptal.com/developers/css/sprite-generator/) 등의 사이트에서 스프라이트 이미지를 제작하여 상황에 맞게 잘라 사용한다.

### 이미지 CDN

[CDN(Content Delivery Network)](<./CDN(Content%20Delivery%20Network).md>)

- 서버 호출에 소요되는 시간이 줄어들기 때문에 데이터를 받는 시간이 감소하고 서버 부하가 줄어드는 장점이 있다.
- **이미지 CDN**은 CDN 기능에 이미지의 크기나 형식을 가공해주는 기능도 제공한다.

### 지연 로딩(Lazy Loading)

- **지연로딩**은 로딩을 지연 시켰다가 나중에 하는 방법을 의미한다.
  ⇒ 모든 페이지를 동시에 불러오면 페이지의 로딩 속도가 느려지는 문제가 발생한다.
  ⇒ 특정 컴포넌트가 렌더링 되면 동적으로 import한 지연 로딩된 컴포넌트를 렌더링하여 해결
- `Suspense`를 사용하여 지연 로딩하는 컴포넌트가 보이기 전까지 `fallback`에 등록된 예비 컴포넌트를 보여주는 방법을 사용한다.

  ```tsx
  const LazyComponent = lazy(() => import("./imageList"));

  <Suspense fallback={<div className="loadingWrap">Loading...</div>}>
    <LazyComponent />
  </Suspense>;
  ```
